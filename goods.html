<!DOCTYPE html>
<html>

<head>
    <title>페이징 처리 예제</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="Styles_goods.css">
</head>

<body>
    <div class="header">
        <div class="link_item">
            <p id="userId" style="display:none"></p>     
            <a class="nav_link" href="mypage.html" id="myPageLink">내정보</a>
            <p id="userId" style="display:none"></p>
        </div>

        <h1 class="logo"><a href="goods.html" class="_2yPVRArtDH N=a:GNB.storehome"><img
                    src="https://shop-phinf.pstatic.net/20231120_223/1700461846809Iq8iG_PNG/CRO_Logo_ENG2.png"
                    data-src="https://shop-phinf.pstatic.net/20231120_273/1700454835203IsrBj_PNG/CRO_Logo_ENG.png?type=m10000_10000"
                    class="_1QhZSUVBeK" alt="쿠키런스토어"></a></h1>

        <div class="search-container">
            <input type="text" id="searchInput" placeholder="검색어를 입력하세요" maxlength="500">
            <button class="_1H_iy_tmiI N=a:GNB.search" onclick="searchItems()">
                <span class="Y4Wg6LWa6z"><span class="blind">검색하기</span></span>
            </button>
        </div>


        <div class="list" style="display: flex; gap: 40px;">
            <button onclick="filterItems('')"
                style="border: none; background-color: transparent; font-size: 24px; font-family: Arial, sans-serif;">전체</button>
            <button onclick="filterItems('phrases')"
                style="border: none; background-color: transparent; font-size: 24px; font-family: Arial, sans-serif;">문구</button>
            <button onclick="filterItems('toy')"
                style="border: none; background-color: transparent; font-size: 24px; font-family: Arial, sans-serif;">장난감</button>
            <button onclick="filterItems('album')"
                style="border: none; background-color: transparent; font-size: 24px; font-family: Arial, sans-serif;">앨범</button>
        </div>
    </div>

    <div class="items">
        <div class="container" id="item-container"></div>
    </div>
    <div class="pagination" id="pagination"></div>

    <footer>
        <div class="footer">
            <br>
            <div class="footer_item01">
                <a href="https://www.facebook.com/cookie.run/" target="_blank" rel="noopener">
                    <img src="https://shop-phinf.pstatic.net/20231120_273/1700454835203IsrBj_PNG/CRO_Logo_ENG.png?type=m10000_10000"
                        alt="로고">
                </a>
            </div>
            <br>
            <br>
            <div class="footer_tag">
                <p> © 2021136111. JANG NA YOUNG</p>
                <p> © 2021 DEVSISTERS Corp. All rights reserved.</p>
                <p> © 2021 SHIN-EI ANIMATION CO., LTD. ALL RIGHTS RESERVED.</p>
                <br>
            </div>

        </div>
    </footer>

    <script>
        const itemsPerPage = 25; // 페이지당 아이템 수
        const items = [
            //phrases
            { name: "브릭시티 정화로봇 볼펜", price: "4,000원", image: "https://shop-phinf.pstatic.net/20230913_158/1694601277965gl7nl_PNG/285751870893531_1597439713.png?type=f296_296", category: "phrases" },
            { name: "브레이브 어드벤쳐 여권케이스", price: "14,900원", image: "https://shop-phinf.pstatic.net/20230712_149/1689146655300QhEXz_JPEG/4927628213739126_937780023.jpg?type=f296_296", category: "phrases" },
            { name: "스톱워치 2종", price: "15,000원", image: "https://shop-phinf.pstatic.net/20230223_270/16771185929810DgfO_PNG/78254372702024721_419312233.png?type=f296_296", category: "phrases" },
            { name: "신발 주머니 2종", price: "18,000원", image: "https://shop-phinf.pstatic.net/20230223_67/1677117527603W2Ckx_PNG/78253362385111924_1812615033.png?type=f140", category: "phrases" },
            { name: "미니 틴케이스 스티커팩 2종", price: "10,500원", image: "https://shop-phinf.pstatic.net/20220823_28/1661235144912s9CiX_PNG/62371043481252376_343828875.png?type=f296_296", category: "phrases" },
            { name: "쿠키런 접착식 메모패드 6종", price: "4,000원", image: "https://shop-phinf.pstatic.net/20230831_282/1693449565983XaI10_JPEG/5102888014707584_1354174221.jpg?type=f296_296", category: "phrases" },
            { name: "브레이버스 덱 케이스", price: "5,000원", image: "https://shop-phinf.pstatic.net/20231010_243/1696913083601ohVhu_PNG/43296958514741466_712484271.png?type=f750_750", category: "phrases" },
            { name: "브레이버스 카드 슬리브 (새로운 모험)", price: "5,000원", image: "https://shop-phinf.pstatic.net/20231013_93/1697184879381WpLRN_JPEG/47359421299872102_2032801656.jpeg?type=f750_750", category: "phrases" },
            { name: "브릭시티 브릭 아카데미 수첩", price: "2,000원", image: "https://shop-phinf.pstatic.net/20230913_295/16946008780726RiU3_PNG/7808276487719818_459076368.png?type=f750_750", category: "phrases" },

            //toy
            { name: "쿠키런 봉제인형 (27cm) 3종", price: "19,000원", image: "https://shop-phinf.pstatic.net/20230406_139/1680774590675RTw80_JPEG/81910424444651228_173986660.jpg?type=f750_750", category: "toy" },
            { name: "크리스마스 올패키지", price: "59,600원", image: "https://shop-phinf.pstatic.net/20231124_77/1700805266781bmpat_JPEG/50526301002196314_953617127.jpg?type=f296_296", category: "toy" },
            { name: "[쿠키런스토어] 쿠키런 랜덤 키체인", price: "5,000원", image: "https://shop-phinf.pstatic.net/20231114_258/1699952949584oLc3t_JPEG/12502616375115323_1205563992.jpg?type=f296_296", category: "toy" },
            { name: "쿠키런 보석십자수 2종", price: "7,600원", image: "https://shop-phinf.pstatic.net/20230420_179/1681970401334FJo4w_PNG/3588464147749791_219870445.png?type=f296_296", category: "toy" },
            { name: "메모리 게임", price: "15,000원", image: "https://shop-phinf.pstatic.net/20230224_93/16772240426097Vfd5_PNG/4526726427630463_861829004.png?type=f296_296", category: "toy" },
            { name: "버킷 클레이 세트", price: "59,600원", image: "https://shop-phinf.pstatic.net/20230223_131/1677118985854YgQ67_PNG/78254765510522961_2095949753.png?type=f296_296", category: "toy" },
            { name: "콜렉터블 피규어 브레이브 에디션 (랜덤)", price: "11,000원", image: "https://shop-phinf.pstatic.net/20230406_139/1680774590675RTw80_JPEG/81910424444651228_173986660.jpg?type=f750_750", category: "toy" },
            { name: "콜렉터블 피규어 노움의 일상 (랜덤)", price: "11,000원", image: "https://shop-phinf.pstatic.net/20220921_283/1663729926183iDnD7_PNG/64865705812685867_1908277415.png?type=f296_296", category: "toy" },
            { name: "쿠키런 다이컷 마스킹테이프 4종", price: "4,000원", image: "https://shop-phinf.pstatic.net/20230831_218/1693448679096XwqHr_JPEG/11752110914904986_353927310.jpg?type=f750_750", category: "toy" },
            { name: "브레이브 어드벤쳐 스티커 세트", price: "4,000원", image: "https://shop-phinf.pstatic.net/20230712_49/1689147174398GXdp1_JPEG/4663662720271727_1356439499.jpg?type=f750_750", category: "toy" },
            { name: "쿠키런 리무버블 빅 스티커 10종", price: "4,000원", image: "https://shop-phinf.pstatic.net/20230831_221/1693449128922nVGAN_JPEG/11752560720769515_1807046803.jpg?type=f750_750", category: "toy" },
            { name: "브레이버스 부스터 팩 1탄", price: "1,000원", image: "https://shop-phinf.pstatic.net/20231006_192/1696560002512Fv4mG_JPEG/41991213306604926_362353115.jpg?type=f750_750", category: "toy" },
            { name: "브레이브 어드벤쳐 용감한쿠키 인형 키링", price: "12,000원", image: "https://shop-phinf.pstatic.net/20230712_149/1689141723147orsKB_JPEG/3343809127994028_1734275766.jpg?type=f750_750", category: "toy" },

            //album
            { name: " 킹덤 2주년 기념 OST 앨범", price: "37,000원", image: "https://shop-phinf.pstatic.net/20230214_53/167636787096868FeN_PNG/77503705740623357_2075042864.png?type=f140", category: "album" },
            { name: "킹덤 1주년 기념 OST 앨범", price: "37,000원", image: "https://shop-phinf.pstatic.net/20220823_242/1661237752380cVft1_PNG/62373648111773304_1019721786.png?type=f140", category: "album" },
            { name: "쿠키런: 오븐브레이크 OST Complete Collection", price: "37,000원", image: "https://shop-phinf.pstatic.net/20221221_15/1671601277161YMT7E_PNG/72737122871828068_803068386.png?type=f140", category: "album" },
            { name: "브레이버스 카드 컬렉션 앨범 리필(내지)", price: "34,100원", image: "https://shop-phinf.pstatic.net/20231023_226/1698050117373sPNz3_JPEG/2683358282693169_968356769.jpg?type=f140", category: "album" },
            { name: "브레이버스 카드 컬렉션 앨범", price: "5,000원", image: "https://shop-phinf.pstatic.net/20231023_197/1698050065286kkftQ_JPEG/1423473250936079_1961284730.jpg?type=f140", category: "album" },
          

            { name: "쿠키런: 오븐브레이크 OST (Cookie Run: Ovenbreak OST)", price: "34,100원", image: "https://image.bugsm.co.kr/album/images/200/202879/20287997.jpg?version=20220112011904.0", category: "album" },
            { name: "쿠키런: 오리지널 사운드트랙", price: "5,000원", image: "https://pbs.twimg.com/media/FJ2f-LTagAA7tLw.jpg", category: "album" },
            { name: "쿠키런: 리미티드 한정판 ost 앨범", price: "38,000원", image: "https://i.ytimg.com/vi/uOWaoy7f2uQ/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLCIorYDY0xeGqd-277M03z-_v3Dcw", category: "album" },

        ];


        function displayItems(items, startIndex, endIndex) {
            const container = document.getElementById("item-container");
            container.innerHTML = "";

            for (let i = startIndex; i < endIndex; i++) {
                endIndex = Math.min(endIndex, items.length); 
                const item = items[i];
                const itemElement = document.createElement("div");
                itemElement.classList.add("popup-item");

                // Create a link element for each item
                const linkElement = document.createElement("a");
                linkElement.href = "item.html"; // Replace "item.html" with the desired destination page
                itemElement.appendChild(linkElement);

                // 이미지 엘리먼트 생성 및 추가
                const imageElement = document.createElement("img");
                imageElement.src = item.image;
                linkElement.appendChild(imageElement);

                // 아이템 정보 엘리먼트 생성 및 추가
                const itemInfoElement = document.createElement("div");
                itemInfoElement.classList.add("popup-item-info");

                const nameElement = document.createElement("div");
                nameElement.classList.add("popup-item-name");
                nameElement.textContent = item.name;
                itemInfoElement.appendChild(nameElement);

                const dateElement = document.createElement("div");
                dateElement.classList.add("popup-item-price");
                dateElement.textContent = item.price;
                itemInfoElement.appendChild(dateElement);

                linkElement.appendChild(itemInfoElement);

                container.appendChild(itemElement);


                itemInfoElement.appendChild(dateElement);

                const descElement = document.createElement("div");
                descElement.classList.add("popup-item-desc");
                descElement.textContent = item.desc;
                itemInfoElement.appendChild(descElement);

                itemElement.appendChild(itemInfoElement);
            

                container.appendChild(itemElement);
            }
        }

        function displayPagination(totalItems, currentPage) {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const pagination = document.getElementById("pagination");
            pagination.innerHTML = "";

            for (let i = 1; i <= totalPages; i++) {
                const pageLink = document.createElement("a");
                pageLink.href = "#";
                pageLink.classList.add("page-link");
                pageLink.textContent = i;

                // 현재 페이지 버튼에 active-page 클래스 추가
                if (i === currentPage) {
                    pageLink.classList.add("active-page");
                } else {
                    pageLink.classList.remove("active-page");
                }

                pageLink.addEventListener("click", (event) => {
                    event.preventDefault();
                    displayItems(items, (i - 1) * itemsPerPage, i * itemsPerPage);
                    displayPagination(totalItems, i);
                });

                pagination.appendChild(pageLink);
            }
        }


        function searchItems() {
            const searchInput = document.getElementById('searchInput').value.toLowerCase(); // 검색어를 소문자로 변환
            const filteredItems = items.filter(item => item.name.toLowerCase().includes(searchInput)); // 검색어를 포함하는 아이템 필터링

            // 필터링된 아이템을 첫 페이지에 표시
            displayItems(filteredItems, 0, itemsPerPage);

            // 필터링된 아이템에 대한 페이징 표시
            displayPagination(filteredItems.length, 1);
        }

        function filterItems(category) {
            let filteredItems;

            // 선택된 카테고리의 아이템만 필터링
            if (category === '') {
                filteredItems = items;
            } else {
                filteredItems = items.filter(item => item.category === category);
            }

            // 필터링된 아이템을 첫 페이지에 표시
            displayItems(filteredItems, 0, itemsPerPage);

            // 필터링된 아이템에 대한 페이징 표시
            displayPagination(filteredItems.length, 1);
        }

        function login() {
            // After successful login
            window.location.href = "/c:/Users/user/Desktop/ResponsiveWeb/goods.html?loginSuccess=true";
            // 여기에 실제 로그인 처리 코드를 추가해야 합니다.
            // 로그인이 성공하면 아래의 내용이 실행됩니다.

            // 예시로 아무 회원 아이디나 보여줌
            const fakeUserId = "user123";

            // 로그인 후 화면 변경
            const loginLinks = document.querySelector(".link_item");
            const myPageLink = document.getElementById("myPageLink");
            const userId = document.getElementById("userId");

            loginLinks.style.display = "none"; // 로그인 전 메뉴 감춤
            myPageLink.style.display = "block"; // 로그인 후 내 정보 링크 보임
            userId.style.display = "block"; // 유저 아이디 보임
            userId.textContent = "회원 아이디: " + fakeUserId;
        }

        // 초기 페이지 로드 시 전체 아이템 표시
        filterItems('');
        displayItems(items, 0, itemsPerPage);
        displayPagination(items.length, 1);


        function getQueryParam(name) {
            const urlSearchParams = new URLSearchParams(window.location.search);
            return urlSearchParams.get(name);
        }


    </script>
</body>

</html>