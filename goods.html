<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        /* 스타일은 이전 코드와 동일하게 사용합니다. */
    </style>
    <title>카테고리별 상품</title>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="#" class="category" data-category="all">전체</a></li>
                <li><a href="#" class="category" data-category="clothes">의류</a></li>
                <li><a href="#" class="category" data-category="electronics">가전제품</a></li>
                <li><a href="#" class="category" data-category="food">식품</a></li>
            </ul>
        </nav>
    </header>
    <main>
        <ul class="products" data-category="all"></ul>
    </main>
    <div class="pagination" id="pagination"></div>

    <script>
        const itemsPerPage = 5; // 페이지당 아이템 수
        const items = [            
            { name: "item1", price: "1000", image: "image1.jpg", category: "clothes" },
            { name: "item2", price: "2000", image: "image2.jpg", category: "clothes" },
            // 나머지 아이템들도 category 속성 추가

            { name: "item51", price: "51000", image: "image51.jpg", category: "electronics" },
            { name: "item52", price: "52000", image: "image52.jpg", category: "electronics" },
            // 나머지 아이템들도 category 속성 추가

            { name: "item81", price: "81000", image: "image81.jpg", category: "food" },
            { name: "item82", price: "82000", image: "image82.jpg", category: "food" },
            { name: "item81", price: "81000", image: "image81.jpg", category: "food" },
            { name: "item82", price: "82000", image: "image82.jpg", category: "food" },
            { name: "item81", price: "81000", image: "image81.jpg", category: "food" },
            { name: "item82", price: "82000", image: "image82.jpg", category: "food" }
            // 나머지 아이템들도 category 속성 추가
        ];

        document.addEventListener("DOMContentLoaded", function () {
    const categoryLinks = document.querySelectorAll('.category');

    // 카테고리 링크에 클릭 이벤트 리스너 추가
    categoryLinks.forEach(link => {
        link.addEventListener('click', function (event) {
            event.preventDefault();

            // 선택된 카테고리 가져오기
            const selectedCategory = link.getAttribute('data-category');

            // 선택된 카테고리에 따라 상품 필터링 및 표시
            filterItemsByCategory(selectedCategory);
        });
    });
});

        let currentCategory = null;

        function filterItemsByCategory(category) {//카테고리별로 아이템 보여주기
            currentCategory = category;
            displayItemsByCategory(0);
        }

        function displayItemsByCategory(startIndex) {
            let filteredItems = items;
            if (currentCategory && currentCategory !== "all") {
                filteredItems = items.filter(item => item.category === currentCategory);
            }

            const container = document.querySelector(".products");
            container.innerHTML = "";

            const endIndex = Math.min(startIndex + itemsPerPage, filteredItems.length);
            for (let i = startIndex; i < endIndex; i++) {
                const item = filteredItems[i];
                const itemElement = document.createElement("li");
                itemElement.innerHTML = `
                    <h3>${item.name}</h3>
                    <img src="${item.image}" alt="${item.name} 이미지">
                    <p>가격: ${item.price}원</p>
                `;
                container.appendChild(itemElement);
            }

            displayPagination(filteredItems.length, startIndex / itemsPerPage + 1);
        }

        function displayPagination(totalItems, currentPage) {
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            const pagination = document.getElementById("pagination");
            pagination.innerHTML = "";

            for (let i = 1; i <= totalPages; i++) {
                const pageLink = document.createElement("a");
                pageLink.href = "#";
                pageLink.classList.add("page-link");
                pageLink.textContent = i;

                if (i === currentPage) {
                    pageLink.classList.add("active");
                }

                pageLink.addEventListener("click", (event) => {
                    event.preventDefault();
                    const startIndex = (i - 1) * itemsPerPage;
                    displayItemsByCategory(startIndex);
                });

                pagination.appendChild(pageLink);
            }
        }

        // 초기화 함수
        function initializePage() {
            filterItemsByCategory(null); // 초기에는 모든 카테고리 표시
        }

        initializePage();
    </script>
</body>
</html>
